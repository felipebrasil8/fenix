<!-- Template de permissões -->
<script type="text/ng-template" id="permissoes.html">
    
    <label ng-if="isNumber(permissao.id) == false">
        <span class="" ng-bind="permissao.nome"></span>
    </label>

    <label ng-if="isNumber(permissao.id)" style="font-weight: normal;">
        <input type="checkbox" checklist-model="user.roles" checklist-value="permissao.id" ng-click="verificaClick()" ng-disabled="exibir == false">
        <span class="" ng-bind="permissao.descricao"></span>
    </label>


    <ul ng-if="permissao.parente" class="list-unstyled" style="padding-left: 30px;">
        <li ng-repeat="permissao in permissao.parente" ng-include="'permissoes.html'"></li>
    </ul>
    <ul ng-if="permissao.permissoes" class="list-unstyled" style="padding-left: 30px;">
        <li ng-repeat="permissao in permissao.permissoes" ng-include="'permissoes.html'"></li>
    </ul>
</script>

<div class="checkbox" style="margin-top: 0;margin-bottom: 5px;" ng-show="exibir">
    <label>
        <input type="checkbox" ng-model="todos" ng-click="checkAll()"><b>SELECIONAR TODOS</b> 
    </label>
</div>

<!-- Chamada inicial para construção das permissões recursivamente -->
<ul class="list-unstyled" style="padding-left: 5px;">
    <li ng-repeat="permissao in permissoes" ng-include="'permissoes.html'"></li>
</ul>